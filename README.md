# Shadowsocks-rust AI写的一键管理脚本（中文）

这是一个面向 Linux 的 `shadowsocks-rust` 管理脚本，支持：

- 一键安装 / 修复安装
- 多端口管理（新增、修改、删除）
- 端口级配置（监听地址、加密方式、密钥、DNS、outbound_bind_addr）
- 服务管理（启动/停止/重启、开机自启开关）
- 自动更新（仅检测到新版本时更新）
- 全局配置（`ipv6_first`）

脚本文件：`install_ss_rust.sh`

---

## 使用方法

```bash
bash <(curl -fsSL https://raw.githubusercontent.com/qimaoaa/install-ss-rust/refs/heads/main/install_ss_rust.sh)
```

---

## 功能特性

### 1) 安装与修复

- 自动安装依赖：`curl`、`jq`、`tar`、`xz`、`awk`
- 自动识别架构：`x86_64` / `aarch64`
- 从官方 Releases 下载最新版本并安装二进制
- 自动创建 systemd 服务并启动
- 检测“半安装状态”并自动修复（如服务缺失、端口配置缺失）

### 2) 端口管理

- 新增端口：端口范围 `10000-65535`，留空可随机
- 修改端口：
  - 回车保持原值
  - 端口支持 `random` / `r` 随机
  - 改加密方式后，密钥留空会自动生成匹配新密钥
- 删除端口：序号选择，避免手输端口

### 3) DNS 与网络

- DNS 为**端口级配置**（每个端口独立）
- 全局网络配置仅保留 `ipv6_first`

### 4) 服务管理

- 启动 / 停止 / 重启
- 启用 / 关闭开机自启
- 菜单状态实时显示：安装状态、服务状态、自启状态、当前版本

### 5) 更新

- 先比较当前版本与最新版本
- 仅在有新版本时执行更新
- 若服务运行中，更新后自动重启服务

---

## 免责声明

请仅在合法合规场景下使用本脚本和代理服务。
